import { useEffect, useState } from "react";
import Income from "../Income/Income";
import Expense from "../Expense/Expense";

const Add = () => {
  const [transactionPage, setTransactionPage] = useState("");

  useEffect(() => {
    showTransaction();
  }, [transactionPage, showTransaction]);

  const showTransaction = () => {
    if (transactionPage === "Expense") {
      return <Expense setTransactionPage={setTransactionPage} />;
    } else if (transactionPage === "Add") {
      return <Income setTransactionPage={setTransactionPage} />;
    } else return null;
  };

  return (
    <>
      <div className="h-full w-full overflow-hidden">
        <div
          className={`flex justify-evenly items-center flex-1 w-full h-full transition-all duration-500 ${
            transactionPage ? `-translate-y-full` : "translate-y-0"
          }`}
        >
          <div
            onClick={() => setTransactionPage("Expense")}
            className="text-center text-Dark-25"
          >
            <div className="w-20 h-20 rounded-full bg-Red-100 flex justify-center items-center mb-3">
              <svg
                width="40"
                height="40"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M23 14H9C7.67392 14 6.40215 14.5268 5.46447 15.4645C4.52678 16.4021 4 17.6739 4 19V25C4 26.3261 4.52678 27.5979 5.46447 28.5355C6.40215 29.4732 7.67392 30 9 30H23C24.3261 30 25.5979 29.4732 26.5355 28.5355C27.4732 27.5979 28 26.3261 28 25V19C28 17.6739 27.4732 16.4021 26.5355 15.4645C25.5979 14.5268 24.3261 14 23 14ZM16 26C15.2089 26 14.4355 25.7654 13.7777 25.3259C13.1199 24.8864 12.6072 24.2616 12.3045 23.5307C12.0017 22.7998 11.9225 21.9956 12.0769 21.2196C12.2312 20.4437 12.6122 19.731 13.1716 19.1716C13.731 18.6122 14.4437 18.2312 15.2196 18.0769C15.9956 17.9225 16.7998 18.0017 17.5307 18.3045C18.2616 18.6072 18.8864 19.1199 19.3259 19.7777C19.7654 20.4355 20 21.2089 20 22C20 23.0609 19.5786 24.0783 18.8284 24.8284C18.0783 25.5786 17.0609 26 16 26Z"
                  fill="#fff"
                />
                <path
                  d="M16 24C17.1046 24 18 23.1046 18 22C18 20.8954 17.1046 20 16 20C14.8954 20 14 20.8954 14 22C14 23.1046 14.8954 24 16 24Z"
                  fill="#fff"
                />
                <path
                  d="M16.71 2.29C16.617 2.19627 16.5064 2.12188 16.3846 2.07111C16.2627 2.02034 16.132 1.9942 16 1.9942C15.868 1.9942 15.7373 2.02034 15.6154 2.07111C15.4936 2.12188 15.383 2.19627 15.29 2.29L11.05 6.54C10.8564 6.72698 10.745 6.98321 10.7403 7.25232C10.7356 7.52144 10.838 7.78139 11.025 7.975C11.212 8.16861 11.4682 8.28001 11.7373 8.2847C12.0064 8.28939 12.2664 8.18698 12.46 8L15 5.41V11C15 11.2652 15.1054 11.5196 15.2929 11.7071C15.4804 11.8946 15.7348 12 16 12C16.2652 12 16.5196 11.8946 16.7071 11.7071C16.8946 11.5196 17 11.2652 17 11V5.41L19.54 8C19.7263 8.18474 19.9777 8.2889 20.24 8.29C20.3799 8.29761 20.5199 8.27573 20.6508 8.22577C20.7817 8.17581 20.9007 8.09889 21 8C21.1862 7.81264 21.2908 7.55919 21.2908 7.295C21.2908 7.03081 21.1862 6.77736 21 6.59L16.71 2.29Z"
                  fill="#fff"
                />
              </svg>
            </div>
            <h3>Expense</h3>
          </div>
          <div
            onClick={() => setTransactionPage("Add")}
            className="text-center text-Dark-25"
          >
            <div className="w-20 h-20 rounded-full bg-Violet-100 flex justify-center items-center mb-3">
              <svg
                width="40"
                height="40"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M23 14H9C7.67392 14 6.40215 14.5268 5.46447 15.4645C4.52678 16.4021 4 17.6739 4 19V25C4 26.3261 4.52678 27.5979 5.46447 28.5355C6.40215 29.4732 7.67392 30 9 30H23C24.3261 30 25.5979 29.4732 26.5355 28.5355C27.4732 27.5979 28 26.3261 28 25V19C28 17.6739 27.4732 16.4021 26.5355 15.4645C25.5979 14.5268 24.3261 14 23 14ZM16 26C15.2089 26 14.4355 25.7654 13.7777 25.3259C13.1199 24.8864 12.6072 24.2616 12.3045 23.5307C12.0017 22.7998 11.9225 21.9956 12.0769 21.2196C12.2312 20.4437 12.6122 19.731 13.1716 19.1716C13.731 18.6122 14.4437 18.2312 15.2196 18.0769C15.9956 17.9225 16.7998 18.0017 17.5307 18.3045C18.2616 18.6072 18.8864 19.1199 19.3259 19.7777C19.7654 20.4355 20 21.2089 20 22C20 23.0609 19.5786 24.0783 18.8284 24.8284C18.0783 25.5786 17.0609 26 16 26Z"
                  fill="#fff"
                />
                <path
                  d="M16 24C17.1046 24 18 23.1046 18 22C18 20.8954 17.1046 20 16 20C14.8954 20 14 20.8954 14 22C14 23.1046 14.8954 24 16 24Z"
                  fill="#fff"
                />
                <path
                  d="M16 2C15.7348 2 15.4804 2.10536 15.2929 2.29289C15.1054 2.48043 15 2.73478 15 3V8.59L12.46 6.05C12.2687 5.88617 12.0226 5.80057 11.7709 5.81029C11.5193 5.82001 11.2805 5.92434 11.1024 6.10244C10.9243 6.28053 10.82 6.51927 10.8103 6.77095C10.8006 7.02262 10.8862 7.2687 11.05 7.46L15.29 11.71C15.3821 11.8 15.4908 11.8713 15.61 11.92C15.7334 11.9723 15.866 11.9992 16 11.9992C16.134 11.9992 16.2666 11.9723 16.39 11.92C16.5092 11.8713 16.6178 11.8 16.71 11.71L21 7.46C21.1638 7.2687 21.2494 7.02262 21.2397 6.77095C21.23 6.51927 21.1257 6.28053 20.9476 6.10244C20.7695 5.92434 20.5307 5.82001 20.279 5.81029C20.0274 5.80057 19.7813 5.88617 19.59 6.05L17 8.59V3C17 2.73478 16.8946 2.48043 16.7071 2.29289C16.5196 2.10536 16.2652 2 16 2Z"
                  fill="#fff"
                />
              </svg>
            </div>
            <h3>Income</h3>
          </div>
        </div>
        <div
          className={`transition-all duration-500 w-full h-full ${
            transactionPage ? "-translate-y-full" : "translate-y-0"
          }`}
        >
          {showTransaction()}
        </div>
      </div>
    </>
  );
};

export default Add;
